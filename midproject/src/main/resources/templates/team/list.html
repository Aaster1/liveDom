<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/UI/user/layout/main_layout}"
      >
<head>
    <title>공연 팀 모집 목록</title>
</head>
<body layout:fragment="content">
    <h1>공연 팀 모집</h1>


    <table border="1">
        <tr>
            <th width="100">마감</th>
            <th width="300">제목</th>
            <th width="100">팀 모집 현황</th>
            <th width="100">작성자</th>
            <th width="80">가격</th>
            <th width="100">지역</th>
            <th width="100">공연일자</th>
            <th width="100">갱신일자</th>
            <th width="50">조회수</th>
        </tr>
        <th:block th:if="${teamList != null && teamList.size()!=0}">
        <th:block th:each="team : ${teamList}">
        <tr th:onclick="'readEvent('+${team.teamNo}+')'">
                <td th:text="${team.confirmed !=0 ?'마감':'모집중'}"></td>
                <td th:text="${team.title}"></td>
                <td th:text="${team.recStatus}+'/'+${team.capacity}"></td>
                <td th:text="${team.writer}"></td>
                <td th:text="${team.price}"></td>
                <td th:text="${team.location}"></td>
                <td th:text="${team.liveDate}"></td>
                <td th:text="${#dates.format(team.updDate,'yyyy-MM-dd HH:mm:ss')}"></td>
                <td th:text="${team.views}"></td>
        </tr>
        
          </th:block>
        </th:block>
    </table>

    <script>

        let readEvent = function(teamNo){

            location.href = `/team/read?teamNo=${teamNo}`

        }
        
    </script>
</body>
</html>